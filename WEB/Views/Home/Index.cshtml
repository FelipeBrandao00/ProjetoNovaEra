@{
    Layout = "_Layout";
    ViewData["Title"] = "Menu rápido";

    ViewData["PagePrev"] = null;
    ViewData["Page"] = "Menu rápido";

    int qtSize = 0;
    if (ViewBag.ListaPermissoes.Contains("Gerenciar turmas")) {
        ++qtSize;
    }
    if (ViewBag.ListaPermissoes.Contains("Gerenciar professores")) {
        ++qtSize;
    }
    if (ViewBag.ListaPermissoes.Contains("Gerenciar alunos")) {
        ++qtSize;
    }
    if (ViewBag.ListaPermissoes.Contains("Gerenciar cursos")) {
        ++qtSize;
    }

    int widthsize = 0;
    if (qtSize != 0) {
        widthsize = 100 / qtSize;
    }
}

<link rel="stylesheet" href="~/css/Home/Index.css">

<div id="Container">
    <section id="secDdl">
        @if (ViewBag.ListaPermissoes.Contains("Gerenciar turmas")) {
            <div id="Turmas" style="width: @widthsize%">
                <b><i class="fa-solid fa-school"></i> Turmas</b>
                @if (ViewBag.Roles.Contains("Master") || ViewBag.Roles.Contains("Administrador")) {
                    <button onclick="redirecionarParaAdicionarTurma()"><b><i class="fa-solid fa-circle-plus"></i> Adicionar turma</b></button>
                }
                <button onclick="redirecionarParaListarTurma()"><b><i class="fa-solid fa-rectangle-list"></i> Listar turmas</b></button>
                <button><b><i class="fa-solid fa-file-circle-plus"></i> Cadastro de conteúdo</b></button>
            </div>
        }

        @if (ViewBag.ListaPermissoes.Contains("Gerenciar professores")) {
            <div id="Professores" style="width: @widthsize%">
                <b><i class="fa-solid fa-chalkboard-user"></i> Professores</b>
                <button onclick="redirecionarParaAdicionarProfessor()"><b><i class="fa-solid fa-circle-plus"></i> Adicionar professor</b></button>
                <button onclick="redirecionarParaListarProfessor()"><b><i class="fa-solid fa-rectangle-list"></i> Listar professores</b></button>
            </div>
        }

        @if (ViewBag.ListaPermissoes.Contains("Gerenciar alunos")) {
            <div id="Alunos" style="width: @widthsize%">
                <b><i class="fa-brands fa-google-scholar"></i> Alunos</b>
                <button onclick="redirecionarParaListarAluno()"><b><i class="fa-solid fa-rectangle-list"></i> Listar alunos</b></button>
                <button onclick="redirecionarParaEmitirCertificado()"><b><i class="fa-solid fa-award"></i> Emitir certificado</b></button>
            </div>
        }

        @if (ViewBag.ListaPermissoes.Contains("Gerenciar cursos")) {
            <div id="Cursos" style="width: @widthsize%">
                <b><i class="fa-solid fa-book-bookmark"></i> Cursos</b>
                <button onclick="redirecionarParaAdicionarCurso()"><b><i class="fa-solid fa-circle-plus"></i> Adicionar curso</b></button>
                <button onclick="redirecionarParaListarCurso()"><b><i class="fa-solid fa-rectangle-list"></i> Listar cursos</b></button>
            </div>
        }
    </section>

    <section id="secResto">
        @if (ViewBag.ListaPermissoes.Contains("Gerenciar matriculas")) {
            @if (!ViewBag.ListaPermissoes.Contains("Gerenciar chamadas")) {
                <button onclick="redirecionarParaMatricula()" style="width: 100%"><b><i class="fa-solid fa-book-open"></i>  Matrícula</b></button>
            } else {
                <button onclick="redirecionarParaMatricula()"><b><i class="fa-solid fa-book-open"></i>  Matrícula</b></button>
            }
        }
        @if (ViewBag.ListaPermissoes.Contains("Gerenciar chamadas")) {
            if (!ViewBag.ListaPermissoes.Contains("Gerenciar matriculas")) {
                <button onclick="redirecionarParaChamada()" style="width: 100%"><b><i class="fa-solid fa-scroll"></i> Chamada</b></button>
            } else {
                <button onclick="redirecionarParaChamada()"><b><i class="fa-solid fa-scroll"></i> Chamada</b></button>
            }
        }
    </section>

    @if (ViewBag.ListaPermissoes.Contains("Gerenciar usuários")) {
        <section id="secSistema">
            <b><i class="fa-solid fa-gear"></i> Sistema</b>
            <div id="Sistema">
                <button onclick="redirecionarParaAdicionarUsuario()"><b><i class="fa-solid fa-circle-plus"></i> Adicionar usuário</b></button>
                <button onclick="redirecionarParaListarUsuarios()"><b><i class="fa-solid fa-rectangle-list"></i> Listar usuários</b></button>
                <button onclick="redirecionarParaListarPermissoes()"><b><i class="fa-solid fa-trophy"></i> Gerenciar permissões</b></button>
            </div>
        </section>
    }
</div>